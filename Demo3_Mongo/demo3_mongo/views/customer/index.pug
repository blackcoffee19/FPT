extends ../layout
block content
    h1 Customer List 
    div(class="row")
        a(href="/customer/create",class="btn btn-primary col-2 mx-auto") Create Customer
        div(class="col-4 mx-auto")
            form(action="/customer", method="get")
                div(class="input-group mb-3")
                    div(class="w-25") 
                        select(class="form-select text-center", name="searchBy")
                            option(value="name",selected) Name
                            option(value="email") Email 
                            option(value="phone") Phone 
                    input(type="text",class="form-control",placehover="Search",name="searchInput")   
    if err !=null || error !=null 
        p= err || error
    table(class='table')
        thead
            tr 
                th ID 
                th Name 
                th Email 
                th Phone 
                th Actions 
        tbody
            if customers !=null 
                each item in customers 
                    tr 
                        td= item._id 
                        td= item.name 
                        td= item.email 
                        td= item.phone
                        td 
                            a(href=`/customer/update/${item._id}`,class='btn btn-warning me-2') Update
                            a(href='javascript:void(0);', class='btn btn-danger btn-delete',onclick=`$.ajax({url:'/customer/delete',type:'DELETE',data: {id:'${item._id}'}});location.reload();`) Delete
            else 
                tr 
                    td(colspan='5') No Data  